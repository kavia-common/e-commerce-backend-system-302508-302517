{"is_source_file": true, "format": "TypeScript", "description": "Main application setup for an Express-based backend API, configuring middleware, CORS, rate limiting, Swagger documentation, and routing.", "external_files": ["cors", "dotenv", "express", "helmet", "express-rate-limit", "morgan", "swagger-ui-express", "./routes", "./middleware/errorHandler", "../swagger"], "external_methods": ["dotenv.config", "app.use", "app.set", "app.get", "app.set", "swaggerUi.serve", "swaggerUi.setup", "require"], "published": ["app"], "classes": [], "methods": [{"name": "errorHandler", "description": "Centralized error handling middleware imported from ./middleware/errorHandler"}], "calls": ["cors", "dotenv.config", "express()", "app.use", "helmet()", "morgan('combined')", "rateLimit()", "express.json", "require('../swagger')", "swaggerUi.setup", "routes", "errorHandler"], "search-terms": ["app.ts", "Express app setup", "Swagger UI configuration", "Rate limiting", "CORS configuration", "Security middleware"], "state": 2, "file_id": 34, "knowledge_revision": 76, "git_revision": "acdf6c5f71c0ea8b20a8614e60589a49d7717633", "ctags": [{"_type": "tag", "name": "actualPort", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^  const actualPort = req.socket.localPort;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "allowedHeaders", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^const allowedHeaders = (process.env.ALLOWED_HEADERS ?? 'Content-Type,Authorization')$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "allowedMethods", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^const allowedMethods = (process.env.ALLOWED_METHODS ?? 'GET,POST,PUT,DELETE,PATCH,OPTIONS')$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "allowedOrigins", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^const allowedOrigins = (process.env.ALLOWED_ORIGINS ?? '*')$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^const app = express();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "dynamicSpec", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^  const dynamicSpec = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "fullHost", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^  const fullHost = needsPort ? `${host}:${actualPort}` : host;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "hasPort", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^  const hasPort = host?.includes(':') ?? false;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^  const host = req.get('host'); \\/\\/ may or may not include port$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "max", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^const max = Number(process.env.RATE_LIMIT_MAX ?? '100');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "needsPort", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^  const needsPort =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "protocol", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^  let protocol = req.protocol;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "servers", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^    servers: [{ url: `${protocol}:\\/\\/${fullHost}` }],$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "swaggerSpec", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^const swaggerSpec = require('..\\/swagger');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "windowS", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/app.ts", "pattern": "/^const windowS = Number(process.env.RATE_LIMIT_WINDOW_S ?? '60');$/", "language": "TypeScript", "kind": "constant"}], "hash": "1cb862ade7ed8c071b3d74ff859f9068", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/app.ts", "fields": [{"name": "let protocol = req.protocol;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"76": "acdf6c5f71c0ea8b20a8614e60589a49d7717633"}]}