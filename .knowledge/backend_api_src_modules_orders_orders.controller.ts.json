{"is_source_file": true, "format": "TypeScript", "description": "This file defines controller functions for handling order-related API endpoints in an e-commerce backend. It includes methods for placing an order and retrieving the current user's orders, utilizing express request/response objects and invoking services.", "external_files": ["./orders.service", "../../errors/httpErrors"], "external_methods": ["service.placeOrder", "service.listMyOrders", "UnauthorizedError"], "published": ["place", "myOrders"], "classes": [], "methods": [{"name": "export async function place(req: Request, res: Response, next: NextFunction) { place", "description": "Handles the HTTP request to place a new order, verifies user authentication, retrieves order items from request body, calls service to process order, and sends response.", "scope": "", "scopeKind": ""}, {"name": "export async function myOrders(req: Request, res: Response, next: NextFunction) { myOrders", "description": "Handles the HTTP request to retrieve the current user's orders, verifies user authentication, calls service to list orders, and returns the data.", "scope": "", "scopeKind": ""}], "calls": ["service.placeOrder", "service.listMyOrders", "UnauthorizedError", "res.status", "res.json", "next"], "search-terms": ["orders.controller.ts", "place", "myOrders", "Order API handlers", "e-commerce backend"], "state": 2, "file_id": 29, "knowledge_revision": 71, "git_revision": "acdf6c5f71c0ea8b20a8614e60589a49d7717633", "ctags": [{"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/modules/orders/orders.controller.ts", "pattern": "/^    const { items } = req.body as { items: Array<{ productId: string; quantity: number }> };$/", "language": "TypeScript", "kind": "constant", "scope": "place", "scopeKind": "function"}, {"_type": "tag", "name": "myOrders", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/modules/orders/orders.controller.ts", "pattern": "/^export async function myOrders(req: Request, res: Response, next: NextFunction) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "order", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/modules/orders/orders.controller.ts", "pattern": "/^    const order = await service.placeOrder(req.user.sub, items);$/", "language": "TypeScript", "kind": "constant", "scope": "place", "scopeKind": "function"}, {"_type": "tag", "name": "orders", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/modules/orders/orders.controller.ts", "pattern": "/^    const orders = await service.listMyOrders(req.user.sub);$/", "language": "TypeScript", "kind": "constant", "scope": "myOrders", "scopeKind": "function"}, {"_type": "tag", "name": "place", "path": "/home/kavia/workspace/code-generation/e-commerce-backend-system-302508-302517/backend_api/src/modules/orders/orders.controller.ts", "pattern": "/^export async function place(req: Request, res: Response, next: NextFunction) {$/", "language": "TypeScript", "kind": "function"}], "hash": "95eabe852aec8130c3046011f584b972", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/modules/orders/orders.controller.ts", "revision_history": [{"71": "acdf6c5f71c0ea8b20a8614e60589a49d7717633"}]}